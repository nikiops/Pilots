# –≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram –±–æ—Ç–∞

## üìã –û–±–∑–æ—Ä

**–≠—Ç–∞–ø 5** –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Telegram –±–æ—Ç–∞ —Å backend API, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–ø—Ä–∞–≤–ª—è—Ç—å —É—Å–ª—É–≥–∞–º–∏, –∑–∞–∫–∞–∑–∞–º–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏ –ø—Ä—è–º–æ –∏–∑ Telegram.

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞

### 1. **api_client.py** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è API

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å backend:

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
from api_client import api_client

# –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
user = await api_client.register_user(telegram_id=123, username="john")
profile = await api_client.get_user(telegram_id=123)

# –†–∞–±–æ—Ç–∞ —Å —É—Å–ª—É–≥–∞–º–∏
services = await api_client.search_services("logo")
service = await api_client.get_service(service_id=1)

# –†–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏
order = await api_client.create_order(buyer_id=1, service_id=5)
await api_client.pay_order(order_id=1)

# –°–æ–æ–±—â–µ–Ω–∏—è
await api_client.send_message(order_id=1, author_id=1, text="–ü—Ä–∏–≤–µ—Ç!")
messages = await api_client.get_messages(order_id=1)
```

**–ú–µ—Ç–æ–¥—ã:**
- `register_user()` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `get_user()`, `get_user_profile()` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `search_users()` - –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `list_services()`, `search_services()` - –ø–æ–∏—Å–∫ —É—Å–ª—É–≥
- `create_service()`, `get_seller_services()` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏
- `create_order()`, `get_order()` - —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏
- `pay_order()`, `cancel_order()` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏
- `send_message()`, `get_messages()` - —á–∞—Ç –∑–∞–∫–∞–∑–∞
- `create_review()`, `get_user_reviews()` - –æ—Ç–∑—ã–≤—ã

---

### 2. **handlers.py** - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥

–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `/start` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ |
| `/profile` | –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å |
| `/search` | –ü–æ–∏—Å–∫ —É—Å–ª—É–≥ |
| `/orders` | –ú–æ–∏ –∑–∞–∫–∞–∑—ã |
| `/services` | –ú–æ–∏ —É—Å–ª—É–≥–∏ |

**–û—Å–Ω–æ–≤–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**

```python
# /start - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
@router.message(Command("start"))
async def cmd_start(message: types.Message):
    # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ë–î
    # –ï—Å–ª–∏ –Ω–µ—Ç - —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

# /search - –ü–æ–∏—Å–∫ —É—Å–ª—É–≥
@router.message(F.text)
async def handle_search_query(message: types.Message):
    # –ò—â–µ—Ç —É—Å–ª—É–≥–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏

# /orders - –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
@router.message(Command("orders"))
async def cmd_orders(message: types.Message):
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑—ã –∫–∞–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑—ã –∫–∞–∫ –ø—Ä–æ–¥–∞–≤—Ü–∞
```

---

### 3. **keyboards.py** - –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –º–µ–Ω—é

–ö–Ω–æ–ø–∫–∏ –¥–ª—è Telegram:

```python
# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏
get_main_menu()

# –°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ —Å –∫–Ω–æ–ø–∫–∞–º–∏
get_services_keyboard(services)

# –ö–Ω–æ–ø–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–º
get_order_keyboard(order_id, order_status, user_role)

# –ó–≤—ë–∑–¥—ã –¥–ª—è –æ—Ü–µ–Ω–∫–∏
get_rating_keyboard(order_id)

# –ö–Ω–æ–ø–∫–∏ –¥–∞/–Ω–µ—Ç
get_yes_no_keyboard(action_id)
```

---

### 4. **callbacks_v2.py** - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫

–†–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ inline –∫–Ω–æ–ø–æ–∫:

| Callback | –î–µ–π—Å—Ç–≤–∏–µ |
|----------|----------|
| `service_ID` | –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —É—Å–ª—É–≥–∏ |
| `order_service_ID` | –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ |
| `pay_order_ID` | –û–ø–ª–∞—Ç–∏—Ç—å –∑–∞–∫–∞–∑ |
| `chat_order_ID` | –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç –∑–∞–∫–∞–∑–∞ |
| `message_ID` | –ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `review_ID` | –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ |

---

### 5. **main.py** - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```python
# –ó–∞–ø—É—Å–∫
python main.py

# –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
# 1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è BOT_TOKEN –∏–∑ .env
# 2. –°–æ–∑–¥–∞—ë—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä Bot
# 3. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Ä–æ—É—Ç–µ—Ä—ã (handlers, callbacks)
# 4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
# 5. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è polling (–æ–∂–∏–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π)
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd telegram-bot
source venv/Scripts/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .env

```bash
TELEGRAM_BOT_TOKEN=8398460802:AAF2578s_Uix2nW9S5PRG97ZDFk3qSlUkBg
BACKEND_URL=http://localhost:8000
```

### –ó–∞–ø—É—Å–∫

```bash
python main.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!
üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ TgWork...
```

---

## üîÑ –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 1. –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

```
/start
‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î
‚îú‚îÄ –ï—Å–ª–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç:
‚îÇ  ‚îî‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (telegram_id, username, first_name)
‚îî‚îÄ –ü–æ–∫–∞–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
```

### 2. –ü–æ–∏—Å–∫ —É—Å–ª—É–≥–∏

```
/search –∏–ª–∏ "–ù–∞–π—Ç–∏ —É—Å–ª—É–≥—É"
‚îú‚îÄ –í–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è —É—Å–ª—É–≥–∏
‚îú‚îÄ –ó–∞–ø—Ä–æ—Å –∫ API: /api/services/search/
‚îú‚îÄ –ü–æ–∫–∞–∑ —Å–ø–∏—Å–∫–∞ —É—Å–ª—É–≥ (–∫–Ω–æ–ø–∫–∏)
‚îî‚îÄ –ö–ª–∏–∫ –Ω–∞ —É—Å–ª—É–≥—É:
   ‚îî‚îÄ –ó–∞–ø—Ä–æ—Å /api/services/{id}
   ‚îî‚îÄ –ü–æ–∫–∞–∑ –¥–µ—Ç–∞–ª–µ–π –∏ –∫–Ω–æ–ø–∫–∞ "–ó–∞–∫–∞–∑–∞—Ç—å"
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

```
–ö–ª–∏–∫ "–ó–∞–∫–∞–∑–∞—Ç—å"
‚îú‚îÄ POST /api/orders/ (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞)
‚îú‚îÄ –û—Ç–≤–µ—Ç: OrderResponse —Å ID –∏ —Å—Ç–∞—Ç—É—Å–æ–º "WAITING_PAYMENT"
‚îú‚îÄ –ü–æ–∫–∞–∑ –∫–Ω–æ–ø–∫–∏ "–û–ø–ª–∞—Ç–∏—Ç—å"
‚îî‚îÄ –ö–ª–∏–∫ "–û–ø–ª–∞—Ç–∏—Ç—å":
   ‚îú‚îÄ POST /api/orders/{id}/pay (—Å–æ–∑–¥–∞–Ω–∏–µ escrow)
   ‚îî‚îÄ –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "IN_PROGRESS"
```

### 4. –ß–∞—Ç –∑–∞–∫–∞–∑–∞

```
"üí¨ –ß–∞—Ç –∑–∞–∫–∞–∑–∞"
‚îú‚îÄ GET /api/orders/{id}/messages/
‚îú‚îÄ –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 —Å–æ–æ–±—â–µ–Ω–∏–π
‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ "–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ":
   ‚îî‚îÄ –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
   ‚îî‚îÄ POST /api/orders/{id}/messages/
   ‚îî‚îÄ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ë–î
```

### 5. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏ –æ—Ç–∑—ã–≤

```
–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞: "UNDER_REVIEW"
‚îú‚îÄ –ö–Ω–æ–ø–∫–∞ "–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤"
‚îú‚îÄ –í—ã–±–æ—Ä —Ä–µ–π—Ç–∏–Ω–≥–∞ (1-5 –∑–≤—ë–∑–¥)
‚îú‚îÄ –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –æ—Ç–∑—ã–≤–∞
‚îî‚îÄ POST /api/orders/{id}/review/
   ‚îî‚îÄ –û—Ç–∑—ã–≤ —Å–æ—Ö—Ä–∞–Ω—ë–Ω
   ‚îî‚îÄ –†–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥–∞–≤—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω
```

---

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```python
# –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç api_client (httpx.AsyncClient)

# –ü—Ä–∏–º–µ—Ä: —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
order = await api_client.create_order(
    buyer_id=user.id,  # telegram_id –∏–∑ –ë–î
    service_id=service_id
)

# –û—Ç–≤–µ—Ç:
{
    "id": 1,
    "buyer_id": 1,
    "seller_id": 2,
    "service_id": 5,
    "status": "WAITING_PAYMENT",
    "price": 500,
    "is_paid": False,
    "created_at": "2025-01-01T12:00:00"
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```python
try:
    order = await api_client.pay_order(order_id)
except httpx.HTTPStatusError as e:
    # API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É (4xx, 5xx)
    await message.answer(f"‚ùå {e.response.json().get('detail')}")
except Exception as e:
    # –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –∏–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    await message.answer(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: {e}")
```

---

## üéØ –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–∏—Å–∫ —É—Å–ª—É–≥ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å–ª—É–≥–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- ‚úÖ –û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ (escrow)
- ‚úÖ –ß–∞—Ç –≤ –∑–∞–∫–∞–∑–µ
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –°–ø–∏—Å–æ–∫ –º–æ–∏ –∑–∞–∫–∞–∑—ã/—É—Å–ª—É–≥–∏
- ‚úÖ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### üîú –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è

- WebApp –¥–ª—è —Ä–∞—Å—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ
- –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–ø –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª—É–≥
- –°–æ—Å—Ç–æ—è–Ω–∏—è (FSM) –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
User: /start
Bot: üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ TgWork!
    üéâ –¢—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!
    üìç –¢–≤–æ–π ID: 12345
    –¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å:
    ‚úÖ –ò—Å–∫–∞—Ç—å —É—Å–ª—É–≥–∏
    ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã
    ‚úÖ –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ–∏ —É—Å–ª—É–≥–∏
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ —É—Å–ª—É–≥–∏

```
User: –õ–æ–≥–æ—Ç–∏–ø
Bot: üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ: '–õ–æ–≥–æ—Ç–∏–ø'
    1. –î–∏–∑–∞–π–Ω –ª–æ–≥–æ—Ç–∏–ø–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞
       üí∞ 500 ‚ÇΩ
       üë®‚Äçüíº –ü—Ä–æ–¥–∞–≤–µ—Ü: john_designer
       ‚≠ê –†–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥–∞–≤—Ü–∞: 4.8
    
    [–ö–Ω–æ–ø–∫–∏ —É—Å–ª—É–≥]
    [–ù–∞–∑–∞–¥]
```

### –ü—Ä–∏–º–µ—Ä 3: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞

```
User: [–ö–ª–∏–∫ –Ω–∞ —É—Å–ª—É–≥—É] > [–ó–∞–∫–∞–∑–∞—Ç—å]
Bot: ‚úÖ –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω!
    –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: #42
    –°—Ç–∞—Ç—É—Å: WAITING_PAYMENT
    –°—É–º–º–∞: 500 ‚ÇΩ
    
    [üí≥ –û–ø–ª–∞—Ç–∏—Ç—å] [‚¨ÖÔ∏è –ù–∞–∑–∞–¥]

User: [üí≥ –û–ø–ª–∞—Ç–∏—Ç—å]
Bot: ‚úÖ –ó–∞–∫–∞–∑ –æ–ø–ª–∞—á–µ–Ω!
    –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: #42
    –°—Ç–∞—Ç—É—Å: IN_PROGRESS
    –°—É–º–º–∞: 500 ‚ÇΩ
    –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: 50 ‚ÇΩ
    
    –ü—Ä–æ–¥–∞–≤–µ—Ü –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç—É! –°–ª–µ–¥–∏ –∑–∞ —á–∞—Ç–æ–º –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
    [üí¨ –ß–∞—Ç –∑–∞–∫–∞–∑–∞] [‚¨ÖÔ∏è –ù–∞–∑–∞–¥]
```

---

## üîß –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å API

```bash
# –ò–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å backend
curl http://localhost:8000/api/users/

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON –∏–ª–∏ –æ—à–∏–±–∫–∞ 422 (–Ω—É–∂–µ–Ω ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
```

### –õ–æ–≥–∏ –±–æ—Ç–∞

```python
# –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
# –°–º–æ—Ç—Ä–∏ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

INFO:__main__:üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ TgWork...
INFO:__main__:‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!
ERROR:__main__:‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞: ...
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

```bash
# –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ .env
echo $TELEGRAM_BOT_TOKEN

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ curl
curl https://api.telegram.org/bot8398460802:AAF2578s_Uix2nW9S5PRG97ZDFk3qSlUkBg/getMe
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Aiogram –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.aiogram.dev/)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [httpx async client](https://www.python-httpx.org/)
- [FastAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://fastapi.tiangolo.com/)

---

## ‚ú® –ò—Ç–æ–≥–æ

**–≠—Ç–∞–ø 5** –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- üîó –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å backend API
- üì± –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Telegram
- üîê –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ telegram_id
- üí∞ –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏
- üí¨ –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—â–µ–Ω–∏—é –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚≠ê –í–µ–¥—ë—Ç —Å–∏—Å—Ç–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

**MVP –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
